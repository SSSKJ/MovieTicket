webpackJsonp([0,2],[,function(e,t,r){e.exports=r.p+"static/img/poster1.393f903.jpg"},function(e,t,r){function n(e){return r(s(e))}function s(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./poster1.jpg":1,"./poster2.jpg":36,"./poster3.jpg":37,"./poster4.jpg":38,"./poster5.jpg":39,"./poster6.jpg":40};n.keys=function(){return Object.keys(o)},n.resolve=s,e.exports=n,n.id=2},,,function(e,t,r){r(26);var n=r(0)(r(19),r(50),"data-v-3d121162",null);e.exports=n.exports},function(e,t,r){r(24);var n=r(0)(r(20),r(48),"data-v-13e56476",null);e.exports=n.exports},,,function(e,t,r){"use strict";var n=r(3),s=r(58),o=r(47),i=r.n(o),a=r(5),c=r.n(a),u=r(6),l=r.n(u),p=r(46),v=r.n(p),d=r(45),f=r.n(d),m=r(42),h=r.n(m),_=r(44),g=r.n(_),b=r(43),y=r.n(b),k=r(41),w=r.n(k);n.a.use(s.a),t.a=new s.a({routes:[{path:"/welcome",name:"welcome",component:i.a,children:[{path:"signin",component:c.a},{path:"signup",component:l.a}]},{path:"/",redirect:"/welcome"},{path:"/movies",name:"movies",component:v.a,redirect:"/movies/hot",children:[{path:"hot",component:f.a},{path:"coming",component:h.a},{path:"guess",component:g.a}]},{path:"/movie/detail/:title",component:y.a},{path:"/cinemas/:title",component:w.a}]})},function(e,t,r){r(25);var n=r(0)(r(12),r(49),null,null);e.exports=n.exports},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",data:function(){return{username:" ",login:document.cookie.length}},computed:{getuser:function(){return 0==document.cookie.length?"":this.$cookie.get("user")}},methods:{logout:function(){var e=this;this.$http.get("/user/logout").then(function(t){console.log(t.data),0==document.cookie.length&&e.$router.push("/welcome")}).catch(function(e){console.log("服务器异常！"),console.log(e)})},login:function(){this.$router.push("/welcome/signup")}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"cinema"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"hot",created:function(){this.getMovies()},data:function(){return{movies:[{poster:r(1),title:"海边的曼彻斯特"}]}},methods:{getMovies:function(){var e=this;this.$http.get("/movie/hot").then(function(t){console.log("获取成功"),e.movies=t.data,e.movies.forEach(function(e){var t=e.poster;e.poster=r(2)("./"+t+".jpg")})}).catch(function(e){console.log("服务器异常！"),console.log(e)})},buyTicket:function(e){this.$router.push("/cinemas/"+e)},showDetail:function(e,t){"button"===t.target.tagName.toLowerCase()?this.buyTicket(e):this.$router.push("/movie/detail/"+e)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={created:function(){this.getMovie(this.$route.params.title)},data:function(){return{movie:{}}},methods:{getMovie:function(e){var t=this;this.$http.get("https://bird.ioliu.cn/v1/?url=http://api.douban.com/v2/movie/search?q="+e).then(function(e){var r=e.data.subjects[0].id;r&&t.$http.get("https://bird.ioliu.cn/v1/?url=http://api.douban.com/v2/movie/subject/"+r).then(function(e){e.data&&(t.movie=e.data,setTimeout(function(){document.querySelector(".movie-poster").src=t.movie.images.large},0))}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})},buyTicket:function(e){this.$router.push("/cinemas/"+e)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"hot",created:function(){this.getMovies()},data:function(){return{movies:[{poster:r(1),title:"海边的曼彻斯特"}]}},methods:{getMovies:function(){var e=this;this.$http.get("/movie/hot").then(function(t){console.log("获取成功"),e.movies=t.data,e.movies.forEach(function(e){var t=e.poster;e.poster=r(2)("./"+t+".jpg")})}).catch(function(e){console.log("服务器异常！"),console.log(e)})},buyTicket:function(e){this.$router.push("/cinemas/"+e)},showDetail:function(e,t){"button"===t.target.tagName.toLowerCase()?this.buyTicket(e):this.$router.push("/movie/detail/"+e)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"hot",created:function(){this.getMovies()},data:function(){return{movies:[{poster:r(1),title:"海边的曼彻斯特"}]}},methods:{getMovies:function(){var e=this;this.$http.get("/movie/hot").then(function(t){console.log("获取成功"),e.movies=t.data,e.movies.forEach(function(e){var t=e.poster;e.poster=r(2)("./"+t+".jpg")})}).catch(function(e){console.log("服务器异常！"),console.log(e)})},buyTicket:function(e){this.$router.push("/cinemas/"+e)},showDetail:function(e,t){"button"===t.target.tagName.toLowerCase()?this.buyTicket(e):this.$router.push("/movie/detail/"+e)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"movies",data:function(){return{username:" ",login:document.cookie.length}},computed:{getuser:function(){return 0==document.cookie.length?"":this.$cookie.get("user")}},methods:{logout:function(){var e=this;this.$http.get("/api/logout").then(function(t){console.log(t.data),0==document.cookie.length&&e.$router.push("/welcome")}).catch(function(e){console.log("服务器异常！"),console.log(e)})}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),s=r.n(n);t.default={name:"signin",data:function(){return{user:{username:"",password:""},errMsg:""}},methods:{submit:function(){var e=this;if(this.check()){var t=s()(this.user);this.$http.post("/user/signin",t).then(function(t){"用户不存在"==t.data||"密码错误"==t.data?e.errMsg=t.data:document.cookie.length>0&&e.$router.push("/movies")}).catch(function(e){console.log("服务器异常！"),console.log(e)})}},check:function(){return""===document.querySelector(".username").value||""===document.querySelector(".password").value?(this.errMsg="用户名/密码不能为空",console.log(this.errMsg),!1):(this.errMsg="",!0)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),s=r.n(n);t.default={name:"signup",data:function(){return{user:{username:"",password:"",pereference:[]},errMsg:""}},methods:{submit:function(){var e=this;if(this.checkForm()){var t=s()(this.user);this.$http.post("/user/signup",t).then(function(t){console.log(t.data),console.log("注册成功"),(t.data="用户已存在")?e.errMsg=t.data:document.cookie.length>0&&e.$router.push("/movies")}).catch(function(e){console.log("服务器异常！"),console.log(e)})}},check:function(e,t){"username"===t.target.name||"password"===t.target.name?""===t.target.value?this.errMsg=e:this.errMsg="":t.target.value!=document.querySelector(".password").value?this.errMsg=e:this.errMsg=""},checkForm:function(){return""===document.querySelector(".username").value?(this.errMsg="用户名不能为空",!1):""===document.querySelector(".password").value?(this.errMsg="密码不能为空",!1):document.querySelector(".password").value==document.querySelector(".repeated-password").value||(this.errMsg="两次密码不一致",!1)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),s=(r.n(n),r(6));r.n(s);t.default={name:"welcome",created:function(){0!=document.cookie.length&&this.$router.push("/movies")}}},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){e.exports=r.p+"static/img/icon.e896833.jpg"},function(e,t,r){e.exports=r.p+"static/img/movingbee.c1ea41f.gif"},function(e,t,r){e.exports=r.p+"static/img/poster2.0d09e72.jpg"},function(e,t,r){e.exports=r.p+"static/img/poster3.230c3fb.jpg"},function(e,t,r){e.exports=r.p+"static/img/poster4.1be2759.jpg"},function(e,t,r){e.exports=r.p+"static/img/poster5.5e37e73.jpg"},function(e,t,r){e.exports=r.p+"static/img/poster6.0fe5060.jpg"},function(e,t,r){r(31);var n=r(0)(r(13),r(55),"data-v-c3e789c4",null);e.exports=n.exports},function(e,t,r){r(33);var n=r(0)(r(14),r(57),"data-v-f5300a24",null);e.exports=n.exports},function(e,t,r){r(27);var n=r(0)(r(15),r(51),"data-v-528c9f04",null);e.exports=n.exports},function(e,t,r){r(28);var n=r(0)(r(16),r(52),"data-v-603f103a",null);e.exports=n.exports},function(e,t,r){r(32);var n=r(0)(r(17),r(56),"data-v-e036bb20",null);e.exports=n.exports},function(e,t,r){r(30);var n=r(0)(r(18),r(54),"data-v-af031320",null);e.exports=n.exports},function(e,t,r){r(29);var n=r(0)(r(21),r(53),"data-v-7d151985",null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"signup"}},[r("p",{staticClass:"em"},[e._v(e._s(e.errMsg))]),e._v(" "),r("form",{on:{submit:function(t){t.preventDefault(),e.submit(t)}}},[r("div",{staticClass:"line"},[r("label",[e._v("用户名：")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"username",attrs:{type:"text",name:"username",placeholder:"username"},domProps:{value:e.user.username},on:{blur:function(t){e.check("用户名不能为空",t)},input:function(t){t.target.composing||(e.user.username=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"line"},[r("label",[e._v("密码：")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"password",attrs:{type:"password",name:"password",placeholder:"password"},domProps:{value:e.user.password},on:{blur:function(t){e.check("密码不能为空",t)},input:function(t){t.target.composing||(e.user.password=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"line"},[r("label",[e._v("重复密码：")]),e._v(" "),r("input",{staticClass:"repeated-password",attrs:{type:"password",name:"repeated",placeholder:"repeat password"},on:{blur:function(t){e.check("两次密码不一致",t)}}})]),e._v(" "),r("div",{staticClass:"line"},[r("label",[e._v("喜好：")]),e._v(" "),r("div",{staticClass:"per"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.pereference,expression:"user.pereference"}],attrs:{type:"checkbox",id:"Romance",value:"Romance"},domProps:{checked:Array.isArray(e.user.pereference)?e._i(e.user.pereference,"Romance")>-1:e.user.pereference},on:{__c:function(t){var r=e.user.pereference,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="Romance",i=e._i(r,o);s?i<0&&(e.user.pereference=r.concat(o)):i>-1&&(e.user.pereference=r.slice(0,i).concat(r.slice(i+1)))}else e.user.pereference=s}}}),e._v(" "),r("label",{attrs:{for:"Romance"}},[e._v("爱情")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.pereference,expression:"user.pereference"}],attrs:{type:"checkbox",id:"Comedy",value:"Comedy"},domProps:{checked:Array.isArray(e.user.pereference)?e._i(e.user.pereference,"Comedy")>-1:e.user.pereference},on:{__c:function(t){var r=e.user.pereference,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="Comedy",i=e._i(r,o);s?i<0&&(e.user.pereference=r.concat(o)):i>-1&&(e.user.pereference=r.slice(0,i).concat(r.slice(i+1)))}else e.user.pereference=s}}}),e._v(" "),r("label",{attrs:{for:"Comedy"}},[e._v("喜剧")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.pereference,expression:"user.pereference"}],attrs:{type:"checkbox",id:"Adventure",value:"Adventure"},domProps:{checked:Array.isArray(e.user.pereference)?e._i(e.user.pereference,"Adventure")>-1:e.user.pereference},on:{__c:function(t){var r=e.user.pereference,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="Adventure",i=e._i(r,o);s?i<0&&(e.user.pereference=r.concat(o)):i>-1&&(e.user.pereference=r.slice(0,i).concat(r.slice(i+1)))}else e.user.pereference=s}}}),e._v(" "),r("label",{attrs:{for:"Adventure"}},[e._v("冒险")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.pereference,expression:"user.pereference"}],attrs:{type:"checkbox",id:"Horror",value:"Horror"},domProps:{checked:Array.isArray(e.user.pereference)?e._i(e.user.pereference,"Horror")>-1:e.user.pereference},on:{__c:function(t){var r=e.user.pereference,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="Horror",i=e._i(r,o);s?i<0&&(e.user.pereference=r.concat(o)):i>-1&&(e.user.pereference=r.slice(0,i).concat(r.slice(i+1)))}else e.user.pereference=s}}}),e._v(" "),r("label",{attrs:{for:"Horror"}},[e._v("恐怖")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.pereference,expression:"user.pereference"}],attrs:{type:"checkbox",id:"Action",value:"Action"},domProps:{checked:Array.isArray(e.user.pereference)?e._i(e.user.pereference,"Action")>-1:e.user.pereference},on:{__c:function(t){var r=e.user.pereference,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="Action",i=e._i(r,o);s?i<0&&(e.user.pereference=r.concat(o)):i>-1&&(e.user.pereference=r.slice(0,i).concat(r.slice(i+1)))}else e.user.pereference=s}}}),e._v(" "),r("label",{attrs:{for:"Action"}},[e._v("动作")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.pereference,expression:"user.pereference"}],attrs:{type:"checkbox",id:"Others",value:"Others"},domProps:{checked:Array.isArray(e.user.pereference)?e._i(e.user.pereference,"Others")>-1:e.user.pereference},on:{__c:function(t){var r=e.user.pereference,n=t.target,s=!!n.checked;if(Array.isArray(r)){var o="Others",i=e._i(r,o);s?i<0&&(e.user.pereference=r.concat(o)):i>-1&&(e.user.pereference=r.slice(0,i).concat(r.slice(i+1)))}else e.user.pereference=s}}}),e._v(" "),r("label",{attrs:{for:"Others"}},[e._v("其它")])])]),e._v(" "),r("input",{staticClass:"btn",attrs:{type:"submit",value:"提交"}})])])},staticRenderFns:[]}},function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("header",[e._m(0),e._v(" "),e.login?r("div",{staticClass:"greeting"},[r("span",[e._v("欢迎回来，"+e._s(e.getuser)+"！")]),e._v(" "),r("button",{staticClass:"btn",on:{click:e.logout}},[e._v("退出登录")])]):r("div",{staticClass:"greeting"},[r("router-link",{attrs:{to:"/welcome/signin"}},[e._v("登陆")]),e._v(" | \n    \t\t"),r("router-link",{attrs:{to:"/welcome/signup"}},[e._v("注册")])],1)]),e._v(" "),r("router-view")],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"logo"}},[n("img",{attrs:{id:"icon",src:r(34)}}),e._v(" "),n("span",[e._v("BeeBee Movie")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"signin"}},[r("p",{staticClass:"msg"},[e._v(e._s(e.errMsg))]),e._v(" "),r("form",{on:{submit:function(t){t.preventDefault(),e.submit(t)}}},[r("table",[r("tr",[r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"username",attrs:{type:"text",name:"username",placeholder:"用户名"},domProps:{value:e.user.username},on:{blur:e.check,input:function(t){t.target.composing||(e.user.username=t.target.value)}}})])]),e._v(" "),r("tr",[r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"password",attrs:{type:"password",name:"password",placeholder:"密码"},domProps:{value:e.user.password},on:{blur:e.check,input:function(t){t.target.composing||(e.user.password=t.target.value)}}})])])]),e._v(" "),r("input",{staticClass:"btn",attrs:{type:"submit",value:"提交"}})])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"container"}},[r("div",{staticClass:"detail"},[e._m(0),e._v(" "),r("div",{staticClass:"detail-right"},[r("h1",[e._v(e._s(e.movie.title)+" "+e._s(e.movie.original_title))]),e._v(" "),r("p",[r("span",{staticClass:"label"},[e._v("评分: ")]),e._v(" "),r("span",{staticClass:"content"},[e._v(e._s(e.movie.rating.average))])]),e._v(" "),r("p",[r("span",{staticClass:"label"},[e._v("国家: ")]),e._v(" "),r("span",{staticClass:"content"},[e._v(e._s(e.movie.countries.join(""))+" ("+e._s(e.movie.year)+")")])]),e._v(" "),r("p",[r("span",{staticClass:"label"},[e._v("导演: ")]),e._v(" "),r("span",{staticClass:"content"},e._l(e.movie.directors,function(t){return r("a",{attrs:{href:t.alt}},[e._v(e._s(t.name))])}))]),e._v(" "),r("p",[r("span",{staticClass:"label"},[e._v("演员: ")]),e._v(" "),r("span",{staticClass:"content"},e._l(e.movie.casts,function(t){return r("a",{attrs:{href:t.alt}},[e._v(e._s(t.name)+" / ")])}))]),e._v(" "),r("p",[r("span",{staticClass:"label"},[e._v("简介: ")]),e._v(" "),r("span",{staticClass:"content"},[e._v(e._s(e.movie.summary))])])])]),e._v(" "),r("button",{staticClass:"btn buyticket",on:{click:function(t){e.buyTicket(e.movie.title)}}},[e._v("立即购票")])])},staticRenderFns:[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"detail-left"},[r("img",{staticClass:"movie-poster"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"hot"}},[r("ul",e._l(e.movies,function(t){return r("li",{on:{click:function(r){e.showDetail(t.title,r)}}},[r("img",{attrs:{src:t.poster}}),e._v(" "),r("p",{staticClass:"movietitle"},[e._v(e._s(t.title))]),e._v(" "),r("button",{staticClass:"btn buy_ticket",on:{click:function(r){e.buyTicket(t.title)}}},[e._v("购票")])])}))])},staticRenderFns:[]}},function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"welcome"}},[n("img",{attrs:{src:r(35)}}),e._v(" "),n("h1",[e._v("欢迎来到 BeeBee!")]),e._v(" "),n("div",{staticClass:"enter"},[n("router-link",{attrs:{to:"/movies"}},[e._v("直接进入-->")])],1),e._v(" "),n("br"),e._v(" "),n("router-link",{staticClass:"btn",attrs:{to:"/welcome/signin"}},[e._v("登陆")]),e._v(" "),n("router-link",{staticClass:"btn",attrs:{to:"/welcome/signup"}},[e._v("注册")]),e._v(" "),n("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"movies"}},[r("nav",[r("router-link",{attrs:{to:"/movies/hot"}},[e._v("正在热映")]),e._v(" "),r("router-link",{attrs:{to:"/movies/coming"}},[e._v("即将上映")]),e._v(" "),e.login?r("router-link",{attrs:{to:"/movies/guess"}},[e._v("猜你喜欢")]):e._e()],1),e._v(" "),r("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"cinema"}},[r("h1",[e._v("请选择影院")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"hot"}},[r("ul",e._l(e.movies,function(t){return r("li",{on:{click:function(r){e.showDetail(t.title,r)}}},[r("img",{attrs:{src:t.poster}}),e._v(" "),r("p",{staticClass:"movietitle"},[e._v(e._s(t.title))]),e._v(" "),r("button",{staticClass:"btn buy_ticket",on:{click:function(r){e.buyTicket(t.title)}}},[e._v("购票")])])}))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"hot"}},[r("ul",e._l(e.movies,function(t){return r("li",{on:{click:function(r){e.showDetail(t.title,r)}}},[r("img",{attrs:{src:t.poster}}),e._v(" "),r("p",{staticClass:"movietitle"},[e._v(e._s(t.title))]),e._v(" "),r("button",{staticClass:"btn buy_ticket",on:{click:function(r){e.buyTicket(t.title)}}},[e._v("购票")])])}))])},staticRenderFns:[]}},,,,function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),s=r(10),o=r.n(s),i=r(9),a=r(8),c=r.n(a),u=r(7),l=r.n(u);n.a.config.productionTip=!1,n.a.use(c.a),n.a.use(l.a),new n.a({el:"#app",router:i.a,template:"<App/>",components:{App:o.a}})}],[62]);
//# sourceMappingURL=app.f7256bfdcbcea7c914f3.js.map